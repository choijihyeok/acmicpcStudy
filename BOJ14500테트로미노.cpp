#include <iostream>
using namespace std;

int tet[19][4][2]={
    {{0,0},{0,1},{0,2},{0,3}},//1
    {{0,0},{1,0},{2,0},{3,0}},//2
    {{0,0},{1,0},{2,0},{2,1}},//3
    {{0,0},{0,1},{0,2},{-1,2}},//4
    {{0,0},{0,1},{1,1},{2,1}},//5
    {{0,0},{0,1},{0,2},{1,0}},//6
    {{0,0},{0,1},{-1,1},{-2,1}},//7
    {{0,0},{0,1},{0,2},{1,2}},//8
    {{0,0},{0,1},{1,0},{2,0}},//9
    {{0,0},{1,0},{1,1},{1,2}},//10
    {{0,0},{1,0},{1,1},{2,1}},//11
    {{0,0},{0,1},{-1,1},{-1,2}},//12
    {{0,0},{1,0},{0,1},{-1,1}},//13
    {{0,0},{0,1},{1,1},{1,2}},//14
    {{0,0},{0,1},{0,2},{1,1}},//15
    {{0,0},{0,1},{-1,1},{1,1}},//16
    {{0,0},{1,0},{2,0},{1,1}},//17
    {{0,0},{0,1},{0,2},{-1,1}},//18
    {{0,0},{0,1},{1,0},{1,1}}//19
};

int tetMap[501][501]={0};

int main(){
    int n,m,max_=-1;
    cin >> n >> m;
    
    for(int i = 0; i < n; i++){
        for(int j= 0; j< m; j++){
            cin >> tetMap[i][j];
        }
    }
    
    for(int i = 0; i < 19; i++){
        for(int j = 0; j < n; j++){
            for(int k = 0; k < m; k++){
                int sum = 0;
                for(int p = 0; p < 4; p++){
                    if(tet[i][p][0]+j < 0 ||
                       tet[i][p][1]+k < 0 ||
                       tet[i][p][0]+j >= n ||
                       tet[i][p][1]+k >= m ) break;
                    cout << "x : " << tet[i][p][0]+j << " y : " << tet[i][p][1]+k << endl;
                    sum += tetMap[tet[i][p][0]+j][tet[i][p][1]+k];
                }
                if(sum > max_) max_ = sum;
            }
        }
    }
    cout << max_;
    return 0;
}
